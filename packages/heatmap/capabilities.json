{
  "dataRoles": [
    {
      "displayName": "X-Axis",
      "name": "xAxis",
      "kind": "Grouping",
      "description": "Fields for the horizontal axis (e.g., dates, time periods)"
    },
    {
      "displayName": "Y-Axis",
      "name": "yAxis",
      "kind": "Grouping",
      "description": "Categories displayed as rows"
    },
    {
      "displayName": "Group",
      "name": "group",
      "kind": "Grouping",
      "description": "Splits the heatmap into small multiples (one panel per group)"
    },
    {
      "displayName": "Values",
      "name": "values",
      "kind": "GroupingOrMeasure",
      "description": "The measure to display at each point"
    }
  ],
  "tooltips": {
    "supportedTypes": {
      "default": true,
      "canvas": true
    },
    "roles": ["tooltips"]
  },
  "objects": {
    "categoryColors": {
      "displayName": "Data Colors",
      "properties": {
        "fill": {
          "displayName": "Color",
          "type": { "fill": { "solid": { "color": true } } }
        }
      }
    },
    "tooltipSettings": {
      "displayName": "Tooltips",
      "properties": {
        "enabled": {
          "displayName": "Enabled",
          "type": { "bool": true }
        },
        "style": {
          "displayName": "Style",
          "type": {
            "enumeration": [
              { "value": "powerbi", "displayName": "Power BI" },
              { "value": "custom", "displayName": "Custom" }
            ]
          }
        },
        "theme": {
          "displayName": "Theme",
          "type": {
            "enumeration": [
              { "value": "light", "displayName": "Light" },
              { "value": "dark", "displayName": "Dark" }
            ]
          }
        },
        "backgroundColor": {
          "displayName": "Background",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "textColor": {
          "displayName": "Text Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "borderColor": {
          "displayName": "Border Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "borderRadius": {
          "displayName": "Border Radius",
          "type": { "numeric": true }
        },
        "shadow": {
          "displayName": "Shadow",
          "type": { "bool": true }
        },
        "maxWidth": {
          "displayName": "Max Width",
          "type": { "numeric": true }
        },
        "showColorSwatch": {
          "displayName": "Show Color Swatch",
          "type": { "bool": true }
        }
      }
    },
    "customColors": {
      "displayName": "Custom Colors",
      "properties": {
        "useCustomColors": {
          "displayName": "Use Custom Colors",
          "description": "Enable custom colors for each data category",
          "type": { "bool": true }
        },
        "colorList": {
          "displayName": "Colors",
          "description": "Comma-separated hex colors (e.g., #ff0000, #00ff00, #0000ff)",
          "type": { "text": true }
        }
      }
    },
    "colorScheme": {
      "displayName": "Color Scheme",
      "properties": {
        "scheme": {
          "displayName": "Color Scheme",
          "type": {
            "enumeration": [
              { "value": "blues", "displayName": "Blues" },
              { "value": "greens", "displayName": "Greens" },
              { "value": "reds", "displayName": "Reds" },
              { "value": "purples", "displayName": "Purples" },
              { "value": "oranges", "displayName": "Oranges" },
              { "value": "teals", "displayName": "Teals" },
              { "value": "pinks", "displayName": "Pinks" },
              { "value": "warm", "displayName": "Warm" },
              { "value": "rainbow", "displayName": "Rainbow" },
              { "value": "pastel", "displayName": "Pastel" },
              { "value": "vibrant", "displayName": "Vibrant" }
            ]
          }
        }
      }
    },
    "xAxisSettings": {
      "displayName": "X-Axis",
      "properties": {
        "show": {
          "displayName": "Show X-Axis",
          "type": { "bool": true }
        },
        "fontSize": {
          "displayName": "Font Size",
          "type": { "formatting": { "fontSize": true } }
        },
        "fontFamily": {
          "displayName": "Font Family",
          "type": { "text": true }
        },
        "color": {
          "displayName": "Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "bold": {
          "displayName": "Bold",
          "type": { "bool": true }
        },
        "italic": {
          "displayName": "Italic",
          "type": { "bool": true }
        },
        "underline": {
          "displayName": "Underline",
          "type": { "bool": true }
        },
        "rotateLabels": {
          "displayName": "Rotate Labels",
          "description": "Control X-axis label rotation",
          "type": {
            "enumeration": [
              { "value": "auto", "displayName": "Auto" },
              { "value": "always", "displayName": "Always" },
              { "value": "never", "displayName": "Never" }
            ]
          }
        }
      }
    },
    "yAxisSettings": {
      "displayName": "Y-Axis",
      "properties": {
        "show": {
          "displayName": "Show Y-Axis",
          "type": { "bool": true }
        },
        "fontSize": {
          "displayName": "Font Size",
          "type": { "formatting": { "fontSize": true } }
        },
        "fontFamily": {
          "displayName": "Font Family",
          "type": { "text": true }
        },
        "color": {
          "displayName": "Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "bold": {
          "displayName": "Bold",
          "type": { "bool": true }
        },
        "italic": {
          "displayName": "Italic",
          "type": { "bool": true }
        },
        "underline": {
          "displayName": "Underline",
          "type": { "bool": true }
        }
      }
    },
    "heatmapSettings": {
      "displayName": "Heatmap",
      "properties": {
        "cellPadding": {
          "displayName": "Cell Padding",
          "type": { "numeric": true }
        },
        "showValues": {
          "displayName": "Show Values",
          "type": { "bool": true }
        },
        "showRowTotals": {
          "displayName": "Show Totals Row",
          "type": { "bool": true }
        },
        "rowTotalsPosition": {
          "displayName": "Totals Row Position",
          "type": {
            "enumeration": [
              { "value": "top", "displayName": "Top" },
              { "value": "bottom", "displayName": "Bottom" }
            ]
          }
        },
        "showColumnTotals": {
          "displayName": "Show Totals Column",
          "type": { "bool": true }
        },
        "columnTotalsPosition": {
          "displayName": "Totals Column Position",
          "type": {
            "enumeration": [
              { "value": "left", "displayName": "Left" },
              { "value": "right", "displayName": "Right" }
            ]
          }
        },
        "showGrandTotalCell": {
          "displayName": "Show Grand Total Cell",
          "type": { "bool": true }
        },
        "showOverallTotalHeader": {
          "displayName": "Show Overall Total Header",
          "type": { "bool": true }
        },
        "enableHorizontalScroll": {
          "displayName": "Enable Horizontal Scroll",
          "description": "Allow the heatmap to extend horizontally and show a scrollbar when needed",
          "type": { "bool": true }
        },
        "enableVerticalScroll": {
          "displayName": "Enable Vertical Scroll",
          "description": "Allow the heatmap to extend vertically and show a scrollbar when there are many rows",
          "type": { "bool": true }
        },
        "minCellWidth": {
          "displayName": "Minimum Cell Width (0 = Fit)",
          "description": "Set 0 to fit the visual width, or set a pixel minimum to preserve label readability with horizontal scroll",
          "type": { "numeric": true }
        },
        "minColor": {
          "displayName": "Min Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "maxColor": {
          "displayName": "Max Color",
          "type": { "fill": { "solid": { "color": true } } }
        },
        "horizontalAlignment": {
          "displayName": "Horizontal Alignment",
          "type": {
            "enumeration": [
              { "value": "left", "displayName": "Left" },
              { "value": "center", "displayName": "Center" },
              { "value": "right", "displayName": "Right" }
            ]
          }
        },
        "verticalAlignment": {
          "displayName": "Vertical Alignment",
          "type": {
            "enumeration": [
              { "value": "top", "displayName": "Top" },
              { "value": "center", "displayName": "Center" },
              { "value": "bottom", "displayName": "Bottom" }
            ]
          }
        },
        "marginTop": {
          "displayName": "Top Margin",
          "type": { "numeric": true }
        },
        "marginBottom": {
          "displayName": "Bottom Margin",
          "type": { "numeric": true }
        },
        "marginLeft": {
          "displayName": "Left Margin",
          "type": { "numeric": true }
        },
        "marginRight": {
          "displayName": "Right Margin",
          "type": { "numeric": true }
        }
      }
    },
    "textSizes": {
      "displayName": "Text Sizes",
      "description": "Manual font size overrides (0 = auto/responsive)",
      "properties": {
        "xAxisFontSize": {
          "displayName": "X-Axis Font Size",
          "description": "0 = auto, 8-32 = manual size",
          "type": { "formatting": { "fontSize": true } }
        },
        "yAxisFontSize": {
          "displayName": "Y-Axis Font Size",
          "description": "0 = auto, 8-32 = manual size",
          "type": { "formatting": { "fontSize": true } }
        },
        "panelTitleFontSize": {
          "displayName": "Panel Title Font Size",
          "description": "0 = auto, 8-32 = manual size",
          "type": { "formatting": { "fontSize": true } }
        },
        "valueLabelFontSize": {
          "displayName": "Value Label Font Size",
          "description": "0 = auto, 8-32 = manual size",
          "type": { "formatting": { "fontSize": true } }
        }
      }
    },
    "smallMultiples": {
      "displayName": "Small Multiples",
      "properties": {
        "spacing": {
          "displayName": "Panel Spacing",
          "type": { "numeric": true }
        },
        "showTitle": {
          "displayName": "Show Panel Titles",
          "type": { "bool": true }
        },
        "titleFontSize": {
          "displayName": "Title Font Size",
          "type": { "formatting": { "fontSize": true } }
        },
        "titleSpacing": {
          "displayName": "Title Spacing",
          "type": { "numeric": true }
        }
      }
    }
  },
  "dataViewMappings": [
    {
      "conditions": [
        {
          "xAxis": { "max": 5 },
          "yAxis": { "max": 5 },
          "group": { "max": 1 },
          "values": { "max": 1 }
        }
      ],
      "matrix": {
        "rows": {
          "select": [
            { "for": { "in": "yAxis" } },
            { "for": { "in": "group" } }
          ],
          "dataReductionAlgorithm": {
            "top": { "count": 30000 }
          }
        },
        "columns": {
          "for": { "in": "xAxis" },
          "dataReductionAlgorithm": {
            "top": { "count": 30000 }
          }
        },
        "values": {
          "for": { "in": "values" }
        }
      }
    }
  ],
  "supportsHighlight": true,
  "supportsKeyboardFocus": true,
  "supportsLandingPage": true,
  "supportsEmptyDataView": true,
  "supportsMultiVisualSelection": true,
  "privileges": []
}
